"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deprecated_create_refinement_context = void 0;
const create_success_refinement_result_1 = require("./create_success_refinement_result");
const create_failure_refinement_result_1 = require("./create_failure_refinement_result");
class Refine_Guard_Abort_Error {
    constructor(error) {
        this.error = error;
    }
}
const deprecated_create_refinement_context = (callback) => {
    try {
        return (0, create_success_refinement_result_1.__deprecated_create_success_refinement_result)(callback((error) => {
            throw new Refine_Guard_Abort_Error(error);
        }));
    }
    catch (e) {
        if (e instanceof Refine_Guard_Abort_Error) {
            return (0, create_failure_refinement_result_1.__deprecated_create_failure_refinement_result)(e.error);
        }
        throw e; // re-throw unexpected errors
    }
};
exports.deprecated_create_refinement_context = deprecated_create_refinement_context;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlX3JlZmluZW1lbnRfY29udGV4dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZXByZWNhdGVkX3JlZmluZW1lbnRfcmVzdWx0L2NyZWF0ZV9yZWZpbmVtZW50X2NvbnRleHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EseUZBQW1HO0FBQ25HLHlGQUFtRztBQUduRyxNQUFNLHdCQUF3QjtJQUMxQixZQUNvQixLQUFZO1FBQVosVUFBSyxHQUFMLEtBQUssQ0FBTztJQUM1QixDQUFDO0NBQ1I7QUFFTSxNQUFNLG9DQUFvQyxHQUFHLENBQ2hELFFBQTZDLEVBQ0UsRUFBRTtJQUNqRCxJQUFJLENBQUM7UUFDRCxPQUFPLElBQUEsZ0ZBQTZDLEVBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDcEUsTUFBTSxJQUFJLHdCQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDUCxDQUFDO0lBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUNULElBQUksQ0FBQyxZQUFZLHdCQUF3QixFQUFFLENBQUM7WUFDeEMsT0FBTyxJQUFBLGdGQUE2QyxFQUFnQixDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDaEYsQ0FBQztRQUNELE1BQU0sQ0FBQyxDQUFBLENBQUMsNkJBQTZCO0lBQ3pDLENBQUM7QUFDTCxDQUFDLENBQUE7QUFiWSxRQUFBLG9DQUFvQyx3Q0FhaEQifQ==