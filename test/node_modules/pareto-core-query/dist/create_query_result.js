"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.__create_query_result = __create_query_result;
class Query_Result_Class {
    constructor(executer) {
        this.executer = executer;
        this.query_result = null;
    }
    transform_result(transformer) {
        return new Query_Result_Class((on_result, on_error) => {
            this.executer(($) => {
                on_result(transformer($));
            }, on_error);
        });
    }
    deprecated_transform_error(error_transformer) {
        return new Query_Result_Class((on_result, on_error) => {
            this.executer(on_result, ($) => {
                on_error(error_transformer($));
            });
        });
    }
    query_without_error_transformation(queryer) {
        return new Query_Result_Class((on_result, on_error) => {
            this.executer(($) => {
                queryer($).__extract_data(on_result, on_error);
            }, on_error);
        });
    }
    query(queryer, error_transformer) {
        return new Query_Result_Class((on_result, on_error) => {
            this.executer(($) => {
                queryer($).__extract_data(on_result, (queryer_error) => {
                    on_error(error_transformer(queryer_error));
                });
            }, on_error);
        });
    }
    deprecated_refine_old_without_error_transformation(refiner) {
        return new Query_Result_Class((on_result, on_error) => {
            this.executer(($) => {
                refiner($).__extract_data(on_result, on_error);
            }, on_error);
        });
    }
    deprecated_refine_old(refiner, error_transformer) {
        return new Query_Result_Class((on_result, on_error) => {
            this.executer(($) => {
                refiner($).__extract_data(on_result, (stager_error) => {
                    on_error(error_transformer(stager_error));
                });
            }, on_error);
        });
    }
    rework_error_temp(error_reworker, rework_error_transformer) {
        return new Query_Result_Class((on_result, on_error) => {
            this.executer(on_result, ($) => {
                error_reworker($).__extract_data((new_target_error) => {
                    on_error(new_target_error);
                }, (rework_error) => {
                    on_error(rework_error_transformer(rework_error));
                });
            });
        });
    }
    __extract_data(on_result, on_error) {
        this.executer(on_result, on_error);
    }
}
function __create_query_result(executer) {
    return new Query_Result_Class(executer);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlX3F1ZXJ5X3Jlc3VsdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jcmVhdGVfcXVlcnlfcmVzdWx0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBK0pBLHNEQUtDO0FBOUlELE1BQU0sa0JBQWtCO0lBRXBCLFlBQVksUUFBaUM7UUFDekMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUE7UUFDeEIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUE7SUFDNUIsQ0FBQztJQUtELGdCQUFnQixDQUNaLFdBQWdEO1FBRWhELE9BQU8sSUFBSSxrQkFBa0IsQ0FBb0IsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLEVBQUU7WUFDckUsSUFBSSxDQUFDLFFBQVEsQ0FDVCxDQUFDLENBQUMsRUFBRSxFQUFFO2dCQUNGLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUM3QixDQUFDLEVBQ0QsUUFBUSxDQUNYLENBQUE7UUFDTCxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCwwQkFBMEIsQ0FDdEIsaUJBQW9EO1FBRXBELE9BQU8sSUFBSSxrQkFBa0IsQ0FBb0IsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLEVBQUU7WUFDckUsSUFBSSxDQUFDLFFBQVEsQ0FDVCxTQUFTLEVBQ1QsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDRixRQUFRLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUNsQyxDQUFDLENBQ0osQ0FBQTtRQUNMLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELGtDQUFrQyxDQUM5QixPQUEyQztRQUUzQyxPQUFPLElBQUksa0JBQWtCLENBQW9CLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxFQUFFO1lBQ3JFLElBQUksQ0FBQyxRQUFRLENBQ1QsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDRixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxD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